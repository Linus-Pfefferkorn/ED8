EDControl(EditForm:
  BorderIcons = set(SystemMenu),
  BorderStyle = Single,
  Caption = str('Corner Transfer Unit'),
  Height = 375,
  Name = str('Corner Transfer Unit'),
  Position = Default,
  ShowHint = True,
  Top = 339,
  Visible = False,
  Width = 394,
  Controls(
    EDControl(MultiPage:
      ActivePage = 1,
      Align = Client,
      Anchors = set(Left,Top,Right,Bottom),
      Height = 335,
      Left = 0,
      Name = str('MultiPage1'),
      TabOrder = 1,
      Top = 0,
      Width = 394,
      Controls(
        EDControl(SinglePage:
          Caption = str('General'),
          Name = str('SinglePage_General'),
          PageIndex = 1,
          Controls(
            EDControl(GroupBox:
              Caption = str(''),
              Height = 56,
              Left = 8,
              Name = str('GroupBox1'),
              TabOrder = 1,
              Top = 8,
              Width = 370,
              Controls(
                EDControl(Edit:
                  Height = 21,
                  Left = 132,
                  Name = str('AtomName'),
                  TabOrder = 1,
                  Top = 18,
                  Width = 225),
                EDControl(Label:
                  Caption = str('Atom name:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText1'),
                  Top = 24,
                  Width = 56))),
            EDControl(GroupBox:
              Caption = str('Settings'),
              Height = 88,
              Left = 8,
              Name = str('GroupBox2'),
              TabOrder = 4,
              Top = 72,
              Width = 370,
              Controls(
                EDControl(Label:
                  Caption = str('Send to:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText52'),
                  Top = 56,
                  Width = 40),
                EDControl(Label:
                  Caption = str('Input strategy:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText622'),
                  Top = 24,
                  Width = 67))),
            EDControl(GroupBox:
              Caption = str('Triggers'),
              Height = 128,
              Left = 8,
              Name = str('GroupBox12'),
              TabOrder = 5,
              Top = 168,
              Width = 370,
              Controls(
                EDControl(Label:
                  Caption = str('Trigger on entry:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText122'),
                  Top = 30,
                  Width = 77),
                EDControl(Label:
                  Caption = str('Trigger on exit:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText1222'),
                  Top = 60,
                  Width = 70),
                EDControl(SyntaxComboBox:
                  Height = 24,
                  Left = 132,
                  Name = str('TriggerOnEntry'),
                  TabOrder = 1,
                  Top = 23,
                  Width = 225),
                EDControl(SyntaxComboBox:
                  Height = 24,
                  Left = 132,
                  Name = str('TriggerOnExit'),
                  TabOrder = 2,
                  Top = 55,
                  Width = 225),
                EDControl(Label:
                  Caption = str('Trigger on reset:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText522'),
                  Top = 90,
                  Width = 77),
                EDControl(SyntaxComboBox:
                  Height = 24,
                  Left = 132,
                  Name = str('TriggerOnReset'),
                  TabOrder = 3,
                  Top = 87,
                  Width = 225))),
            EDControl(SmartEdit:
              Left = 140,
              Lines = str(''),
              Name = str('InputStrategy'),
              String = str('{.~1|.}~1'),
              TabOrder = 2,
              Top = 90,
              Width = 225),
            EDControl(SmartEdit:
              Left = 140,
              Lines = str(''),
              Name = str('SendTo'),
              String = str('{.~1|.}~1'),
              TabOrder = 3,
              Top = 122,
              Width = 225))),
        EDControl(SinglePage:
          Caption = str('Specific'),
          Name = str('SinglePage_Specific'),
          PageIndex = 2,
          Controls(
            EDControl(GroupBox:
              Caption = str('Physical settings'),
              Height = 224,
              Left = 8,
              Name = str('GroupBox4'),
              TabOrder = 1,
              Top = 8,
              Width = 370,
              Controls(
                EDControl(Edit:
                  Height = 21,
                  Left = 140,
                  Name = str('InitialRotation'),
                  TabOrder = 6,
                  Text = str('0'),
                  Top = 188,
                  Width = 100),
                EDControl(ScriptEdit:
                  Height = 21,
                  Left = 140,
                  Name = str('SizeZ'),
                  TabOrder = 5,
                  Top = 154,
                  Width = 217),
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 140,
                  Name = str('SwitchTransferTimeAheadAlso'),
                  TabOrder = 4,
                  Top = 128,
                  Width = 217),
                EDControl(ScriptEdit:
                  Height = 21,
                  Left = 140,
                  Name = str('TransferTime'),
                  TabOrder = 3,
                  Top = 90,
                  Width = 217),
                EDControl(ScriptEdit:
                  Active = False,
                  Enabled = False,
                  Left = 140,
                  Name = str('LateralSpeed'),
                  TabOrder = 2,
                  Top = 58,
                  Width = 217),
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 140,
                  Name = str('SwitchMoveInFlag'),
                  TabOrder = 1,
                  Top = 32,
                  Width = 217,
                  Events(
                    Change = str('Guicontrol([LateralSpeed], GuiSet([Enabled], not(GuiControl([SwitchMoveInFlag], GuiGet([Checked])))))'#13),
                    Init = str('Guicontrol([LateralSpeed], GuiSet([Enabled], not(GuiControl([SwitchMoveInFlag], GuiGet([Checked])))))'#13))),
                EDControl(Label:
                  Caption = str('Speed [m/s]:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText624'),
                  Top = 64,
                  Width = 61),
                EDControl(Label:
                  Caption = str('Transfer time [s]:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText623'),
                  Top = 96,
                  Width = 78),
                EDControl(Label:
                  Caption = str('Transport height [m]:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText3'),
                  Top = 160,
                  Width = 97),
                EDControl(Label:
                  Caption = str('Rotation [0° - 45°]:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText6232'),
                  Top = 192,
                  Width = 87),
                EDControl(Label:
                  Caption = str('Transfer time ahead:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText6233'),
                  Top = 128,
                  Width = 97),
                EDControl(Label:
                  Caption = str('Place without movement:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText6242'),
                  Top = 32,
                  Width = 119))),
            EDControl(GroupBox:
              Caption = str('Rotation settings'),
              Height = 57,
              Left = 8,
              Name = str('GroupBox3'),
              TabOrder = 2,
              Top = 240,
              Width = 369,
              Controls(
                EDControl(Button:
                  Caption = str('Edit rotations'),
                  Left = 280,
                  Name = str('EditAngleVariables'),
                  TabOrder = 2,
                  Top = 18,
                  Events(
                    Click = str('EditTable(GuiAtom)'#13))),
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 140,
                  Name = str('SwitchAutoDetect'),
                  TabOrder = 1,
                  Top = 24,
                  Width = 100),
                EDControl(Label:
                  Caption = str('Autofit rotations:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText62333'),
                  Top = 24,
                  Width = 76))))),
        EDControl(SinglePage:
          Caption = str('Visualization'),
          Name = str('SinglePage_Visu'),
          PageIndex = 3,
          Controls(
            EDControl(GroupBox:
              Caption = str('Settings'),
              Height = 192,
              Left = 8,
              Name = str('GroupBox6'),
              TabOrder = 1,
              Top = 8,
              Width = 370,
              Controls(
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 132,
                  Name = str('SwitchModifyProduct2D'),
                  TabOrder = 3,
                  Top = 159,
                  Width = 225),
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 132,
                  Name = str('SwitchAnimateTransferTime'),
                  TabOrder = 2,
                  Top = 127,
                  Width = 225),
                EDControl(ComboBox:
                  Height = 21,
                  Items = str('None'#13#10'Simple box'#13#10'Box with icon'#13#10'Support frame'#13#10'Support frame with icon'#13#10'Support frame with chain conveyors'#13#10'Support frame with animated chain conveyors'#13#10),
                  Left = 132,
                  Name = str('Icon3D'),
                  Style = DropDownList,
                  TabOrder = 1,
                  Top = 56,
                  Width = 225),
                EDControl(Icon:
                  Height = 24,
                  Left = 132,
                  Name = str('Icon'),
                  Top = 18,
                  Width = 225),
                EDControl(Colorpicker:
                  Height = 24,
                  Left = 132,
                  Name = str('Color'),
                  Top = 90,
                  Width = 24),
                EDControl(Label:
                  Caption = str('Color:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText82'),
                  Top = 96,
                  Width = 27),
                EDControl(Label:
                  Caption = str('3D Icon:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText7'),
                  Top = 60,
                  Width = 41),
                EDControl(Label:
                  Caption = str('2D Icon:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText2'),
                  Top = 24,
                  Width = 41),
                EDControl(Label:
                  Caption = str('Animate transfer time:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText623322'),
                  Top = 127,
                  Width = 101),
                EDControl(Label:
                  Caption = str('Change 2D of Product:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText6233222'),
                  Top = 159,
                  Width = 109))),
            EDControl(GroupBox:
              Caption = str('Supports'),
              Height = 89,
              Left = 8,
              Name = str('GroupBox5'),
              TabOrder = 2,
              Top = 208,
              Width = 369,
              Controls(
                EDControl(ScriptEdit:
                  Left = 132,
                  Name = str('SwitchLegExtend'),
                  TabOrder = 2,
                  Top = 53,
                  Width = 225),
                EDControl(CheckBox:
                  Caption = str(''),
                  Left = 132,
                  Name = str('SwitchDrawLegs'),
                  TabOrder = 1,
                  Top = 24,
                  Width = 225,
                  Events(
                    Change = str('Guicontrol([SwitchLegExtend], GuiSet([Enabled], GuiControl([SwitchDrawLegs], GuiGet([Checked]))))'#13))),
                EDControl(Label:
                  Caption = str('Length of supports [m]:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText6222'),
                  Top = 56,
                  Width = 108),
                EDControl(Label:
                  Caption = str('Draw supports:'),
                  Color = -16777208,
                  Height = 13,
                  Left = 12,
                  Name = str('StaticText62332'),
                  Top = 24,
                  Width = 71))))))),
    EDControl(Panel:
      Align = Bottom,
      Anchors = set(Left,Right,Bottom),
      BevelOuter = None,
      Caption = str(''),
      Height = 40,
      Left = 0,
      Name = str('Panel1'),
      TabOrder = 2,
      Top = 335,
      Width = 394,
      Controls(
        EDControl(Button:
          Caption = str('&Apply'),
          Left = 312,
          Name = str('btnApply'),
          TabOrder = 4,
          Top = 8,
          Events(
            Click = str('do('#13' '#13'  {Save TextField}'#13'  '#13'  Name(GuiAtom) := GuiControl([AtomName],GuiGet([Text])),'#13'  '#13'  zSize(GuiAtom) := ExecScript(GuiControl([SizeZ],GuiGet([Code]))),'#13#13'  {Save SmartEdit Box} '#13'  '#13'  SetExprAtt([SendTo],GuiControl([SendTo],GuiGet([String])),GuiAtom),'#13'  '#13'  SetExprAtt([InStrategy],GuiControl([InputStrategy],GuiGet([String])),GuiAtom),'#13#13'  {Save SyntaxComboBox}  '#13'  '#13'  SetExprAtt([EntryTrigger],GuiControl([TriggerOnEntry],GuiGet([ResultCode])),GuiAtom),'#13'  '#13'  SetExprAtt([ExitTrigger],GuiControl([TriggerOnExit],GuiGet([ResultCode])),GuiAtom),'#13'  '#13'  SetExprAtt([ResetTrigger], GuiControl([TriggerOnReset], GuiGet([ResultCode])), GuiAtom),'#13#13'  '#13'  {Save 4D Scriptbox}'#13'  '#13'  SetExprAtt([Speed],GuiControl([LateralSpeed],GuiGet([Code])),GuiAtom),'#13'  '#13'  SetExprAtt([TransferTime],GuiControl([TransferTime],GuiGet([Code])),GuiAtom),'#13'  '#13'  Att([TransferTimeAhead],GuiAtom) := GuiControl([SwitchTransferTimeAheadAlso],GuiGet([Checked])),  '#13'  '#13'  Att([MoveInFlag],GuiAtom) := GuiControl([SwitchMoveInFlag],GuiGet([Checked])),  '#13'  '#13'  if( {**fail safe: rotation is a number and is >= -45 and is < 45 degrees**}'#13'    and( '#13'     IsNumeric(GuiControl([InitialRotation], GuiGet([Text]))), '#13'     or('#13'      {--negative angle--}'#13'      and('#13'       value(GuiControl([InitialRotation], GuiGet([Text]))) >= -45,'#13'       value(GuiControl([InitialRotation], GuiGet([Text]))) <= 45'#13'      ),'#13'      {--positive angle--}'#13'      and('#13'       value(GuiControl([InitialRotation], GuiGet([Text]))) >= 315,'#13'       value(GuiControl([InitialRotation], GuiGet([Text]))) <= 360'#13'      )'#13'     )'#13'    ),'#13'    do( {**Value is okay**}'#13'      SetExprAtt([InitialRotation],GuiControl([InitialRotation],GuiGet([Text])),GuiAtom),'#13'      RotationAs(GuiAtom) := value(GuiControl([InitialRotation], GuiGet([Text])))'#13'    ),'#13'    do( {**Value is not okay**}'#13'      Msg(concat([Rotation must be a numeric value >= -45 and < 45 degrees],lf,[Please change your entry]), 3),'#13'      return '#13'    )  '#13'  ),'#13'  '#13'  Att([AutoDetect],GuiAtom) := GuiControl([SwitchAutoDetect],GuiGet([Checked])),'#13'  '#13'  {--Autofit rotation of connected atoms--}'#13'  if(GuiControl([SwitchAutoDetect],GuiGet([Checked])),'#13'   do('#13'    {--Get angles and motion directions of connected input atom--}'#13'    Repeat(NrIC(GuiAtom),'#13'     if('#13'      AtomExists(In(Count, GuiAtom)),'#13'      CTU_Input_Atom_Set_Table(In(Count, GuiAtom), GuiAtom, Count)'#13'     )'#13'    ),'#13'    '#13'    {--Get angles and motion directions of connected output atom--}'#13'    Repeat(NrOC(GuiAtom),'#13'     if('#13'      AtomExists(Out(Count, GuiAtom)),'#13'      CTU_Output_Atom_Set_Table(Out(Count, GuiAtom), GuiAtom, NrIC(GuiAtom) + Count)'#13'     )'#13'    )'#13'   )'#13'  ),'#13#13'  {Rest}'#13'  '#13'  Icon(GuiAtom) := GuiControl([Icon],GuiGet([Icon])),'#13'  '#13'  Att([Icon3D],GuiAtom) := GuiControl([Icon3D],GuiGet([ItemIndex])),'#13'  '#13'  Color(GuiAtom) := GuiControl([Color],GuiGet([Color])),'#13'  '#13'  Att([TransferAnimate],GuiAtom) := GuiControl([SwitchAnimateTransferTime],GuiGet([Checked])),'#13#13'  Att([ModifyProduct2D],GuiAtom) := GuiControl([SwitchModifyProduct2D],GuiGet([Checked])),'#13#13'  Att([DrawLegs],GuiAtom) := GuiControl([SwitchDrawLegs],GuiGet([Checked])),'#13'  '#13'  SetExprAtt([LegExtend],GuiControl([SwitchLegExtend],GuiGet([Code])),GuiAtom)'#13'    '#13')'#13))),
        EDControl(Button:
          Cancel = True,
          Caption = str('&Cancel'),
          Left = 230,
          Name = str('btnCancel'),
          TabOrder = 3,
          Top = 8,
          Events(
            Click = str('Do('#13' GuiDestroy,'#13' GuiUnregister([Turntable Unit])'#13')'#13))),
        EDControl(Button:
          Caption = str('&Ok'),
          Default = True,
          Left = 144,
          Name = str('btnOk'),
          TabOrder = 2,
          Top = 8,
          Events(
            Click = str('Do('#13' GuiControl([btnApply]),'#13' GuiRun([Click]),'#13' GuiDestroy,'#13' GuiUnregister([Switch])'#13')'#13))),
        EDControl(Button:
          Caption = str('&Help'),
          Left = 8,
          Name = str('btnHelp'),
          TabOrder = 1,
          Top = 8,
          Events(
            Click = str('Help(PDir([HELP\ED Help.hlp]), [Corner Transfer Unit])'#13)))))),
  Events(
    Show = str('do('#13#13' {Set Caption}'#13' if('#13'  atomexists(m(GuiAtom)),'#13'  GuiControl([Corner Transfer Unit],GuiSet([Caption],concat(name(m(GuiAtom)), [ - ], name(GuiAtom)))),'#13'  GuiControl([Corner Transfer Unit],GuiSet([Caption],concat([Baseclass - ], name(GuiAtom))))'#13' ),'#13#13#13' {Set ActivePage}'#13'    '#13' GuiControl([MultiPage1]),GuiSet([ActivePage],1),'#13'     '#13' {Set TextField}'#13' '#13' GuiControl([AtomName],GuiSet([Text],Name(GuiAtom))),'#13' '#13' GuiControl([SizeZ],GuiSet([Code], string(zSize(GuiAtom)))),'#13' '#13' {Set SmartEditBox}           '#13'     '#13' FillPredefinedLogicList([SendTo], [GetSendToIntersections]),'#13' GuiControl([SendTo],GuiSet([String],textatt([SendTo],GuiAtom))), '#13#13' FillPredefinedLogicList([InputStrategy], [getInputStrategy]),'#13' GuiControl([InputStrategy],GuiSet([String],textatt([InStrategy],GuiAtom))), '#13#13' {Set SyntaxComboBox}  '#13'     '#13' GuiControl([TriggerOnEntry],GuiSet([CodeItems], concat(char(1),[objectstart],char(1),[code:],TextAtt([EntryTrigger],GuiAtom),char(1),[objectend], getTriggerEnterExit))),'#13' GuiControl([TriggerOnEntry],GuiSet([ItemIndex], 1)),        '#13#13' GuiControl([TriggerOnExit],GuiSet([CodeItems], concat(char(1),[objectstart],char(1),[code:],TextAtt([ExitTrigger],GuiAtom),char(1),[objectend], getTriggerEnterExit))),'#13' GuiControl([TriggerOnExit],GuiSet([ItemIndex], 1)),'#13' '#13' GuiControl([TriggerOnReset],GuiSet([CodeItems], concat(char(1),[objectstart],char(1),[code:],TextAtt([ResetTrigger],GuiAtom),char(1),[objectend], getTriggerEnterExit))),'#13' GuiControl([TriggerOnReset],GuiSet([ItemIndex], 1)),'#13' '#13' {Set 4D ScriptField}      '#13' '#13' GuiControl([LateralSpeed],GuiSet([Code], TextAtt([Speed],GuiAtom))),'#13#13' GuiControl([TransferTime],GuiSet([Code], TextAtt([TransferTime],GuiAtom))),'#13' '#13' GuiControl([SwitchTransferTimeAheadAlso],GuiSet([Checked],Att([TransferTimeAhead],GuiAtom))),'#13#13' GuiControl([SwitchMoveInFlag],GuiSet([Checked],Att([MoveInFlag],GuiAtom))),'#13#13' GuiControl([InitialRotation],GuiSet([Text], TextAtt([InitialRotation],GuiAtom))),'#13' '#13' GuiControl([SwitchAutoDetect],GuiSet([Checked],Att([AutoDetect],GuiAtom))),'#13'   '#13' {Rest}'#13#13' GuiControl([Icon],GuiSet([Icon], Icon(GuiAtom))),'#13#13' GuiControl([Icon3D],GuiSet([ItemIndex], Att([Icon3D],GuiAtom))),'#13#13' GuiControl([Color],GuiSet([Color], Color(GuiAtom))),'#13' '#13' GuiControl([SwitchAnimateTransferTime],GuiSet([Checked],Att([TransferAnimate],GuiAtom))),'#13#13' GuiControl([SwitchModifyProduct2D],GuiSet([Checked],Att([ModifyProduct2D],GuiAtom))),'#13#13' GuiControl([SwitchDrawLegs],GuiSet([Checked],Att([DrawLegs],GuiAtom))),'#13' '#13' GuiControl([SwitchLegExtend],GuiSet([Code], TextAtt([LegExtend],GuiAtom))),'#13'  '#13' { *** position the form *** }'#13' GuiControl([Corner Transfer Unit], GuiSet([Top], MouseY - (0.5 * GuiControl([Corner Transfer Unit], GuiGet([Height]))))),'#13' GuiControl([Corner Transfer Unit], GuiSet([Left], MouseX - (0.5 * GuiControl([Corner Transfer Unit], GuiGet([Width]))))),'#13'  '#13' if(GuiControl([Corner Transfer Unit], GuiGet([Top])) < 0, GuiControl([Corner Transfer Unit], GuiSet([Top], 0))),'#13' if(GuiControl([Corner Transfer Unit], GuiGet([Left])) < 0, GuiControl([Corner Transfer Unit], GuiSet([Left], 0))),'#13' '#13' if(GuiControl([Corner Transfer Unit], GuiGet([Top])) > ScreenHeight - GuiControl([Corner Transfer Unit], GuiGet([Height])), GuiControl([Corner Transfer Unit], GuiSet([Top], ScreenHeight - 50 - GuiControl([Corner Transfer Unit], GuiGet([Height]))))),'#13' if(GuiControl([Corner Transfer Unit], GuiGet([Left])) > ScreenWidth - GuiControl([Corner Transfer Unit], GuiGet([Width])), GuiControl([Corner Transfer Unit], GuiSet([Left], ScreenWidth - 10 - GuiControl([Corner Transfer Unit], GuiGet([Width]))))),'#13' '#13' GuiRun([Update])'#13')'#13)))

